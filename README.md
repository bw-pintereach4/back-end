Live site link: https://bw-pintereach4.netlify.app/signup

#### Back-End

**/--------------------------------------------/ AUTH ROUTES /-----------------------------------/**

**Register a User**
_method url_: `/api/auth/register`

_http method_: **[POST]**

#### Body

| name       | type   | required | description    |
| ---------- | ------ | -------- | -------------- |
| `username` | String | Yes      | Must be unique |
| `password` | String | Yes      |                |

#### Example

ID is generated by the API

```
{
	"username": "testRead",
	"password": "test",
	"first_name": "Read",
	"last_name": "Me",
	"email": "readme@gmail.com"
}
```

#### Response

##### 201 (created)

###### Example Response

```
  {
  "id": 3,
  "username": "testRead",
  "password": "$2a$12$SIexEfvauSbtMxWBpZF7TOkmZVr.DQviyGlFtjue9KBe5rVLsCczm",
  "first_name": "Read",
  "last_name": "Me",
  "email": "readme@gmail.com"
}
```

##### 409 (Conflict)

```
  {
    "message": "username is taken"
  }
```

##### 500 (Server error)

```
  {
    "message": "something went wrong",
  }
```

**/----------------------------------------/**

### **Login a user**

_method url_: `/api/auth/login`

_http method_: **[POST]**

#### Headers

| name           | type   | required | description              |
| -------------- | ------ | -------- | ------------------------ |
| `Content-Type` | String | Yes      | Must be application/json |

#### Body

| name       | type   | required | description             |
| ---------- | ------ | -------- | ----------------------- |
| `username` | String | Yes      | must be registered user |
| `password` | String | Yes      | password must match     |

#### Example

```
  {
    "username": "test1",
    "password": "test"
  }
```

#### Response

##### 200 (ok)

###### Example response

```
  {
    "userId": 1,
    "welcome": "Welcome, test1!",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU5MDA5OTM1NSwiZXhwIjoxNTkwMTA2NTU1fQ.OVhXcNtZEVrP90SReXOp_tfJ17KUAvzOBvp_9degxDs"
  }
```

##### 428 (Precondition failed)

```
  {
    message: "Login details invalid"
  }
```

##### 401 (UnAuthorized)

```
  {
    message: "Invalid password"
  }
```

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/--------------------------------------------/ CATEGORY ROUTES /-----------------------------------/**

### **Get categories**

_method url_: `/api/categories`

_http method_: **[GET]**

#### Response

##### 200 (ok)

###### Example response

```
[
  {
    "id": 1,
    "category_name": "Health"
  },
  {
    "id": 2,
    "category_name": "Educational"
  },
  {
    "id": 3,
    "category_name": "Sports"
  },
  {
    "id": 4,
    "category_name": "Technology"
  },
  {
    "id": 5,
    "category_name": "History"
  }
]
```

##### 404 (Bad Request)

Body was empty

```
  {
    message: "can't find categories"
  }
```

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/--------------------------------------------/ ARTICLE ROUTES /-----------------------------------/**

### **Get articles**

_method url_: `/api/articles`

_http method_: **[GET]**

#### Response

##### 200 (ok)

###### Example response

```
{
    "id": 9,
    "name": "Google",
    "url": "google.com",
    "publisher": "Bob Ross",
    "description": "How to use Google like Bob Ross",
    "user_id": 2,
    "categories": [
      "Health",
      "Educational",
      "Sports",
      "Technology",
      "History"
    ]
  },
```

Each article has its own id and a user_id. The user id points to the user the article is saved to.

##### 404 (Not Found)

Body was empty

This will not throw an error, it will just return an empty array if the user has no saved articles.

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/----------------------------------------/**

### **Get articles by Category ID**

_method url_: `/api/articles/categories/:id`

_http method_: **[GET]**

#### Response

##### 200 (ok)

###### Endpoint used: /api/articles/categories/4

###### Example response

```
[
  {
    "id": 9,
    "name": "Google",
    "url": "google.com",
    "publisher": "Bob Ross",
    "description": "How to use Google like Bob Ross",
    "categories": [
    "Health",
    "Educational",
    "Sports",
    "Technology",
    "History"
    ]
  },
  {
    "id": 11,
    "name": "wfojw",
    "url": "goawfogle.com",
    "publisher": "Boawfb Ross",
    "description": "How awfo use Google like Bob Ross",
    "categories": [
    "Sports",
    "Technology"
    ]
  }
]
```

This will return all articles that have the category with an ID of 4 associated with them.

##### 404 (Not Found)

Category ID does not exist

```
{
  "message": "Couldn't find articles with those categories"
}
```

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/----------------------------------------/**

### **Get article by ID**

_method url_: `/api/articles/:id`

_http method_: **[GET]**

#### Response

##### 200 (ok)

###### Example response

```
{
  "id": 9,
  "name": "Google",
  "url": "google.com",
  "publisher": "Bob Ross",
  "description": "How to use Google like Bob Ross",
  "user_id": 2,
  "categories": [
    {
    "category_name": "Health",
    "article_id": 9
    },
    {
    "category_name": "Educational",
    "article_id": 9
    },
    {
    "category_name": "Sports",
    "article_id": 9
    },
    {
    "category_name": "Technology",
    "article_id": 9
    },
    {
    "category_name": "History",
    "article_id": 9
  }
  ]
}
```

<!-- ##### 400 (Bad Request)

```
{
  "message": "Missing info"
}
``` -->

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/----------------------------------------/**

### **Add articles**

_method url_: `/api/articles`

_http method_: **[POST]**

###### Example payload

```
{
	"name": "test article",
	"url": "pintereach.com",
	"publisher": "John",
	"description": "Test description",
	"categories": [1, 3, 4]
}
```

#### Response

##### 200 (ok)

###### Example response

```
{
  "id": 12,
  "user_id": 2,
  "name": "test article",
  "url": "pintereach.com",
  "publisher": "John",
  "description": "Test description"
}
```

##### 400 (Bad Request)

```
{
  "message": "Missing info"
}
```

Fields (name, url, pusblisher, description) are required.

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/----------------------------------------/**

### **Edit articles**

_method url_: `/api/articles/:id`

_Takes article's ID_

_http method_: **[PUT]**

#### Response

##### 200 (ok)

###### Example payload

Endpoint: /api/articles/4

```
{
	"name": "Test",
  "url": "test.com",
  "publisher": "test",
  "description": "test test test",
	"categories": [2, 3]
}
```

###### Example response

```
{
  "id": 7,
  "name": "Test",
  "url": "test.com",
  "publisher": "test",
  "description": "test test test",
  "user_id": 2,
  "categories": [
    {
      "category_name": "Educational",
      "article_id": 7
    },
    {
      "category_name": "Sports",
      "article_id": 7
    }
  ]
}
```

##### 400 (Bad Request)

```
{
  "message": "Missing info"
}
```

For the edit, at least one edit to at least one field is required to make the put request.

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```

**/----------------------------------------/**

### **Delete articles**

_method url_: `/api/articles/:id`

_Takes article's ID_

_http method_: **[DELETE]**

#### Response

##### 200 (ok)

###### Example response

```
{
  "message": "Article has been nuked"
}
```

##### 400 (Bad Request)

Invalid article ID

```
{
  "message": "couldn't find article by that id"
}
```

##### 500 (Bad Request)

```
  {
    message: "something went wrong",
  }
```
